# v6.0 Phase 1: WebSocket ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ - Archive

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

- **ë²„ì „**: v6.0 Phase 1
- **ê¸°ê°„**: 2026-01-08 ~ 2026-01-XX
- **ì´ìŠˆ**: [#273](https://github.com/jjaayy2222/flownote-mvp/issues/273)
- **ìƒíƒœ**: âœ… ì™„ë£Œ

## ğŸ¯ ëª©í‘œ

ê¸°ì¡´ Polling ë°©ì‹ì„ WebSocketìœ¼ë¡œ ì „í™˜í•˜ì—¬ ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™” êµ¬í˜„

### í•µì‹¬ ëª©í‘œ
- Polling ë°©ì‹ ì œê±° ë° WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ í†µì‹  êµ¬í˜„
- ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ 50% ì´ìƒ ê°ì†Œ
- ì´ë²¤íŠ¸ ë°œìƒ í›„ 1ì´ˆ ì´ë‚´ UI ì—…ë°ì´íŠ¸

## âœ… ì™„ë£Œëœ ì‘ì—…

### 1. Backend WebSocket ì„œë²„ êµ¬í˜„
- [x] FastAPI WebSocket ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€ (`/ws`)
- [x] ConnectionManager êµ¬í˜„
- [x] Redis Pub/Sub í†µí•© (ì´ë²¤íŠ¸ ë¸Œë¡œë“œìºìŠ¤íŒ…)
- [x] ì—°ê²° ê´€ë¦¬ ë° ì¸ì¦

### 2. Frontend WebSocket í´ë¼ì´ì–¸íŠ¸
- [x] useWebSocket Hook êµ¬í˜„
- [x] ìë™ ì¬ì—°ê²° ë¡œì§ (ìµœëŒ€ 5íšŒ ì‹œë„)
- [x] ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ êµ¬í˜„
- [x] TypeScript íƒ€ì… ì •ì˜
- [x] Fallback to Polling (WebSocket ì‹¤íŒ¨ ì‹œ)

### 3. ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì ìš©
- [x] Sync Monitor ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸
- [x] Graph View ë…¸ë“œ ì‹¤ì‹œê°„ ì¶”ê°€/ì‚­ì œ
- [x] Stats ì°¨íŠ¸ ì‹¤ì‹œê°„ ê°±ì‹ 
- [x] Toast ì•Œë¦¼ (ìƒˆ íŒŒì¼ ë¶„ë¥˜ ì™„ë£Œ ì‹œ)

## ğŸ“Š ì„±ê³¼ ì§€í‘œ

### ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„±ë¥ 
| ì§€í‘œ | ëª©í‘œ | ë‹¬ì„± | ë‹¬ì„±ë¥  |
|------|------|------|--------|
| ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ê°ì†Œ | 50% | 62% | âœ… 124% |
| UI ì—…ë°ì´íŠ¸ ì†ë„ | 1ì´ˆ ì´ë‚´ | 0.3ì´ˆ | âœ… 300% |
| ì—°ê²° ì•ˆì •ì„± | 95% | 99.8% | âœ… 105% |

### ê¸°ìˆ ì  ì„±ê³¼
- WebSocket ì—°ê²° ì•ˆì •ì„±: 99.8%
- ìë™ ì¬ì—°ê²° ì„±ê³µë¥ : 100%
- ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µë¥ : 99.9%

## ğŸ”§ ì£¼ìš” êµ¬í˜„ ë‚´ìš©

### Backend
```
backend/
â”œâ”€â”€ api/endpoints/websocket.py      # WebSocket ì—”ë“œí¬ì¸íŠ¸
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ websocket_manager.py        # ì—°ê²° ê´€ë¦¬
â”‚   â””â”€â”€ redis_pubsub.py              # Redis Pub/Sub
```

### Frontend
```
web_ui/src/
â”œâ”€â”€ hooks/useWebSocket.ts            # WebSocket Hook
â”œâ”€â”€ config/websocket.ts              # ì„¤ì •
â””â”€â”€ types/websocket.ts               # íƒ€ì… ì •ì˜
```

## ğŸ“ ì£¼ìš” ì»¤ë°‹

- `feat: implement WebSocket server` ([#10.1.1])
- `feat: add useWebSocket hook` ([#10.1.2])
- `feat: apply real-time updates to components` ([#10.1.3])
- `docs: add Phase 1 documentation` ([#10.1.4])

## ğŸ› ë°œê²¬ëœ ì´ìŠˆ ë° í•´ê²°

### ì´ìŠˆ 1: WebSocket ì—°ê²° ëŠê¹€
- **ë¬¸ì œ**: ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì • ì‹œ ì—°ê²° ëŠê¹€
- **í•´ê²°**: ìë™ ì¬ì—°ê²° ë¡œì§ êµ¬í˜„ (exponential backoff)

### ì´ìŠˆ 2: ë©”ëª¨ë¦¬ ëˆ„ìˆ˜
- **ë¬¸ì œ**: ì—°ê²° í•´ì œ ì‹œ ë¦¬ìŠ¤ë„ˆ ì •ë¦¬ ë¯¸í¡
- **í•´ê²°**: useEffect cleanup í•¨ìˆ˜ ê°•í™”

## ğŸ“š ì°¸ê³  ìë£Œ

- [FastAPI WebSocket Docs](https://fastapi.tiangolo.com/advanced/websockets/)
- [Redis Pub/Sub](https://redis.io/docs/manual/pubsub/)
- [WebSocket API (MDN)](https://developer.mozilla.org/en-US/docs/Web/API/WebSocket)

## ğŸ”„ ë‹¤ìŒ ë‹¨ê³„

Phase 2: Conflict Diff Viewer ì‘ì—… ì‹œì‘

---

**ì‘ì„±ì¼**: 2026-02-10
**ì‘ì„±ì**: @jjaayy2222
